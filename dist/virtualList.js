!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("virtualList",[],t):"object"==typeof exports?exports.virtualList=t():e.virtualList=t()}(self,(function(){return(()=>{"use strict";var e={68:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,"\n.list-view[data-v-018b80bc] {\r\n  /* width: 500px;\r\n  height: 400px;\r\n  overflow: auto;\r\n  position: relative;\r\n  border: 1px solid #aaa; */\n}\n.list-view-phantom[data-v-018b80bc] {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: -1;\n}\n.list-view-content[data-v-018b80bc] {\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  position: absolute;\n}\n.list-view-item[data-v-018b80bc] {\r\n  padding: 5px;\r\n  color: #666;\r\n  line-height: 30px;\r\n  box-sizing: border-box;\n}\r\n",""]);const a=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(r[s]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},379:(e,t,n)=>{var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function o(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],d=n[l]||0,c="".concat(l," ").concat(d);n[l]=d+1;var f=s(c),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(u)):a.push({identifier:c,updater:v(u,t),references:1}),i.push(c)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function f(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function u(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,p=0;function v(e,t){var n,i,r;if(t.singleton){var a=p++;n=h||(h=l(t)),i=f.bind(null,n,a,!1),r=f.bind(null,n,a,!0)}else n=l(t),i=u.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);a[r].references--}for(var l=o(e,t),d=0;d<n.length;d++){var c=s(n[d]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=l}}}},459:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});const i={name:"VirtualList",props:{data:{type:Array,required:!0},itemHeight:{type:Number,default:30},estimatedItemSize:{type:Number,default:30},itemSizeGetter:{type:Function}},data:()=>({lastMeasuredIndex:-1,startIndex:0,sizeAndOffsetCahce:{},visibleData:[]}),mounted(){this.updateVisibleData()},computed:{contentHeight(){const{data:e,lastMeasuredIndex:t,estimatedItemSize:n}=this;let i=e.length;if(t>=0){const e=this.getLastMeasuredSizeAndOffset();return e.offset+e.size+(i-1-t)*n}return i*n}},methods:{getLastMeasuredSizeAndOffset(){return this.lastMeasuredIndex>=0?this.sizeAndOffsetCahce[this.lastMeasuredIndex]:{offset:0,size:0}},findNearestItemIndex(e){return this.getLastMeasuredSizeAndOffset().offset>e?this.binarySearch(0,this.lastMeasuredIndex,e):this.exponentialSearch(e)},getItemSizeAndOffset(e){const{lastMeasuredIndex:t,sizeAndOffsetCahce:n,data:i,itemSizeGetter:r}=this;if(t>=e)return n[e];let a=0;if(t>=0){const e=n[t];e&&(a=e.offset+e.size)}for(let s=t+1;s<=e;s++){const e=i[s],t=r.call(null,e,s);n[s]={size:t,offset:a},a+=t}return e>t&&(this.lastMeasuredIndex=e),n[e]},updateVisibleData(e){e=e||0;const t=this.findNearestItemIndex(e),n=this.findNearestItemIndex(e+this.$el.clientHeight);this.visibleData=this.data.slice(t,Math.min(n+1,this.data.length)),this.$refs.content.style.webkitTransform=`translate3d(0, ${this.getItemSizeAndOffset(t).offset}px, 0)`},handleScroll(){const e=this.$el.scrollTop;this.updateVisibleData(e)},binarySearch(e,t,n){let i;for(;e<=t;){const r=Math.floor((e+t)/2),a=this.getItemSizeAndOffset(r).offset;if(a===n){i=r;break}a>n?t=r-1:e=r+1}return e>0&&(i=e-1),void 0===i&&(i=0),i},exponentialSearch(e){let t=1;const n=this.data,i=this.lastMeasuredIndex>=0?this.lastMeasuredIndex:0;for(;i+t<n.length&&this.getItemSizeAndOffset(i+t).offset<e;)t*=2;return this.binarySearch(i+Math.floor(t/2),Math.min(i+t,n.length),e)}}};var r=n(379),a=n.n(r),s=n(68);a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;const o=function(e,t,n,i,r,a,s,o){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=[],d._compiled=!0),d._scopeId="data-v-018b80bc",l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:d}}(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-view",on:{scroll:e.handleScroll}},[n("div",{staticClass:"list-view-phantom",style:{height:e.contentHeight+"px"}}),e._v(" "),n("div",{ref:"content",staticClass:"list-view-content"},e._l(e.visibleData,(function(t,i){return n("div",{key:i,staticClass:"list-view-item",style:{height:e.itemHeight+"px"}},[e._t("default",null,{item:t})],2)})),0)])})).exports;o.install=e=>e.component(o.name,o),"undefined"!=typeof window&&window.Vue&&install(window.Vue);const l=o}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(459)})()}));